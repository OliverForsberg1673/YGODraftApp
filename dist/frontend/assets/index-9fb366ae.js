(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();let l=[],s=0;const u=[],d=document.getElementById("draft-container"),h=document.getElementById("deck-counter");async function g(){try{const c=await fetch("/api/draft");if(!c.ok)throw new Error(`HTTP ${c.status}`);l=(await c.json()).draft,f()}catch(c){console.error("Failed to fetch draft:",c),d.innerHTML="<p>Cannot load draft</p>"}}function f(){if(d.innerHTML="",s>=l.length){d.innerHTML="<p>Deck complete!</p>";const n=document.createElement("div");n.className="deck-list";const r=document.createElement("h3");r.textContent="Your Drafted Deck:",n.appendChild(r);const e=document.createElement("ul");u.forEach(t=>{var m,p;const o=document.createElement("li"),i=document.createElement("img");i.src=((p=(m=t.card_images)==null?void 0:m[0])==null?void 0:p.image_url_small)??"/placeholder.png",i.alt=t.name,i.style.width="40px",i.style.verticalAlign="middle",o.appendChild(i),o.appendChild(document.createTextNode(" "+t.name)),e.appendChild(o)}),n.appendChild(e),d.appendChild(n);return}l[s].forEach(n=>{var o,i;const r=document.createElement("div");r.className="card-option";const e=document.createElement("img");e.src=((i=(o=n.card_images)==null?void 0:o[0])==null?void 0:i.image_url_small)??"/placeholder.png",e.alt=n.name;const t=document.createElement("p");t.textContent=n.name,r.appendChild(e),r.appendChild(t),r.addEventListener("click",()=>y(n)),d.appendChild(r)});const a=h.querySelector("h2");a&&(a.textContent=`Your Deck (${u.length}/40)`)}function y(c){u.push(c),s++,f()}g();
